# Тема 7. Работа с файлами (ввод, вывод)
Отчет по Теме №7 выполнил:
- Давтян Артём Артурович
- ИВТ-22-1

| Задание | Лаб_раб | Сам_раб |
| ------ |---------|---------|
| Задание 1 | +       | +       |
| Задание 2 | +       | +       |
| Задание 3 | +       | +       |
| Задание 4 | +       | +       |
| Задание 5 | +       | +       |
| Задание 6 | +       | -       |
| Задание 7 | +       | -       |
| Задание 8 | +       | -       |
| Задание 9 | +       | -       |
| Задание 10 | +       | -       |

знак "+" - задание выполнено; знак "-" - задание не выполнено;

Работу проверили:
- к.э.н., доцент Панов М.А.

## Лабораторная работа №1
### Составьте текстовый файл и положите его в одну директорию с программой на Python. Текстовый файл должен состоять минимум из двух строк.

```python

```
### Результат.

![image](https://github.com/user-attachments/assets/804cd142-2cee-4f05-95db-e0aa96a5e1b7)

### Выводы
Файл составлен и находится в одной директорий с программой на Python.

## Лабораторная работа №2
### Напишите программу, которая выведет только первую строку из вашего файла, при этом используйте конструкцию open()/close().

```python
f = open('input.txt', 'r')
print(f.readline())
f.close()
```

### Результат.

![image](https://github.com/user-attachments/assets/727d25b2-89eb-4842-959b-6ab90a94a5ce)

### Выводы
В данной задаче мы написали простую программу для чтения первой строки из текстового файла с использованием стандартных функций open() и close(), что демонстрирует основные принципы работы с файлами в Python.

## Лабораторная работа №3
### Напишите программу, которая выведет все строки из вашего файла в массиве, при этом используйте конструкцию open()/close().

```python
f = open('input.txt', 'r')
print(f.readlines())
f.close()
```
### Результат.

![image](https://github.com/user-attachments/assets/59c1eb57-6028-48c2-99e7-92860e7a612b)

### Выводы
В данной задаче была написана программа, которая считывает все строки из текстового файла и выводит их в виде массива (списка).
  
## Лабораторная работа №4
### Напишите программу, которая выведет все строки из вашего файла в массиве, при этом используйте конструкцию with open().

```python
with open('input.txt') as f:
    print(f.readlines())
```
### Результат.

![image](https://github.com/user-attachments/assets/1c94b690-e1f6-4056-84d9-0d956ea831c5)

### Выводы
Данный код демонстрирует программу, которая считывает все строки из текстового файла и выводит их в виде массива (списка) с использованием конструкции with open(). Эта конструкция обеспечивает более безопасное и удобное управление файлами. 

## Лабораторная работа №5
### Напишите программу, которая выведет каждую строку из вашего файла отдельно, при этом используйте конструкцию with open().

```python
with open('input.txt') as f:
    for line in f:
        print(line)
```
### Результат.

![image](https://github.com/user-attachments/assets/e25e15bf-6d2f-4bfb-8192-4c2b3340264b)

### Выводы
В данной задаче была написана программа, которая считывает каждую строку из текстового файла и выводит её отдельно с использованием конструкции with open(). Это обеспечивает безопасное и эффективное управление файлами.

## Лабораторная работа №6
### Напишите программу, которая будет добавлять новую строку в ваш файл, а потом выведет полученный файл в консоль. Вывод можно осуществлять любым способом. Обязательно проверьте сам файл, чтобы изменения в нем тоже отображались.

```python
with open('input.txt', 'a+') as f:
    f.write('\nIm additional line')

with open('input.txt', 'r') as f:
    result = f.readlines()
    print(result)
```
### Результат.

![image](https://github.com/user-attachments/assets/48dac32c-d685-440b-830e-413a9bcf2f9a)

### Выводы
В данной задаче была написана программа, которая добавляет новую строку в текстовый файл и затем выводит содержимое файла в консоль. Использование режима 'a+' позволяет не только добавлять данные, но и читать их после изменения. 

## Лабораторная работа №7
### Напишите программу, которая перепишет всю информацию, которая была у вас в файле до этого, например напишет любые данные из произвольно вами составленного списка. Также не забудьте проверить что измененная вами информация сохранилась в файле.

```python
lines = ['one', 'two', 'three']
with open('input.txt', 'w') as f:
    for line in lines:
        f.write('\nCycle run ' + line)
    print('Done!')
```
### Результат.

![image](https://github.com/user-attachments/assets/4359ec49-5d73-45e7-a3b0-ba71b99e2384)

### Выводы
В этой задаче была написана программа, которая переписывает содержимое файла input.txt, замещая его новыми данными из заданного списка. Программа демонстрирует основные операции записи в файл и подтверждает, что изменения были сохранены.

## Лабораторная работа №8
### Выберите любую папку на своем компьютере, имеющую вложенные директории. Выведите на печать в терминал ее содержимое, как и всех подкаталогов при помощи функции print_docs(directory).

```python
import os

def print_docs(directory):
    all_files = os.walk(directory)
    for catalog in all_files:
        print(f'Папка {catalog[0]} содержит:')
    print(f'Директории: {", ".join([folder for folder in catalog[1]])}')
    print(f'Файлы: {", ".join([file for file in catalog[2]])}')
    print('-' * 48)

print_docs('C:/Users/Артур/Downloads')
```
### Результат.

![image](https://github.com/user-attachments/assets/c556dde2-408e-4638-a5dc-2abc52f25733)

### Выводы
В данной задаче была написана программа, которая выводит содержимое указанной папки и всех её вложенных директорий с помощью функции print_docs(directory). Программа использует модуль os для обхода структуры каталогов.

## Лабораторная работа №9
### Документ «input.txt» содержит следующий текст: 
### Приветствие
### Спасибо
### Извините
### Пожалуйста
### До свидания
### Ты готов?
### Как дела?
### С днем рождения!
### Удача!
### Я тебя люблю.
### Требуется реализовать функцию, которая выводит слово, имеющее максимальную длину (или список слов, если таковых несколько).
### Проверьте работоспособность программы на своем наборе данных

```python
def longest_words(file):
    with open(file, encoding='utf-8') as f:
        words = f.read().split()
        max_length = len(max(words, key=len))
        for word in words:
            if len(word) == max_length:
                sought_words = word

        if len(sought_words) == 1:
            return sought_words[0]
        return sought_words

print(longest_words('input.txt'))
```
### Результат.

![image](https://github.com/user-attachments/assets/264b712a-ce34-4c10-8ea5-435f95f2a2b7)

### Выводы
В данной задаче была реализована функция, которая находит и выводит слово (или список слов), имеющее максимальную длину из файла.

## Лабораторная работа №10
### Требуется создать csv-файл «rows_300.csv» со следующими столбцами:
### № - номер по порядку (от 1 до 300);
### Секунда – текущая секунда на вашем ПК;
### Микросекунда – текущая миллисекунда на часах.
### Для наглядности на каждой итерации цикла искусственно приостанавливайте скрипт на 0,01 секунды.

```python
import csv
import datetime
import time

with open('rows_300.csv', 'w', encoding='utf-8', newline='') as f:
    writer = csv.writer(f)
    writer.writerow(['№', 'Секунда', 'Микросекунда'])
    for line in range(1, 301):
        writer.writerow([line, datetime.datetime.now().second,
                         datetime.datetime.now().microsecond])
        time.sleep(0.01)
```
### Результат.

![image](https://github.com/user-attachments/assets/a71ff72c-5cfd-4a81-a5d5-68f604319acf)

### Выводы
В данной задаче была создана программа, которая генерирует CSV-файл «rows_300.csv», содержащий 300 строк с тремя столбцами: порядковый номер, текущая секунда и микросекунда. Программа искусственно приостанавливает выполнение на 0,01 секунды после каждой записи для обеспечения разнообразия в значениях времени.

## Самостоятельная работа №1
### Найдите в интернете любую статью (объем статьи не менее 200 слов), скопируйте ее содержимое в файл и напишите программу, которая считает количество слов в текстовом файле и определит самое часто встречающееся слово. Результатом выполнения задачи будет: скриншот файла со статьей, листинг кода, и вывод в консоль, в котором будет указана вся необходимая информация.

```python
from collections import Counter
with open('input.txt', 'r', encoding='latin-1') as file:
    text = file.read()
words = text.split()
word_count = len(words)
word_frequency = Counter(words)
most_common_word, most_common_count = word_frequency.most_common(1)[0]
print(f'Количество слов: {word_count}')
print(f'Самое часто встречающееся слово: "{most_common_word}" ({most_common_count} раз)')
```
### Результат.

![image](https://github.com/user-attachments/assets/a9a3f5db-8b6c-4a86-9ebc-66020d1fdc35)

### Выводы
Данный код демонстрирует, как считать количество слов в тексте и определять самое часто встречающееся слово. 
Программа открывает текстовый файл, считывает его содержимое, разбивает текст на слова и использует класс Counter из модуля collections для подсчета количества вхождений каждого слова. 
В результате выводится общее количество слов и какое слово встречается чаще всего. 
Используемые функции:
- open() — для открытия файла.
- read() — для считывания содержимого файла.
- split() — для разбивки текста на слова.
- Counter() — для подсчета вхождений слов.
  
## Самостоятельная работа №2
### У вас появилась потребность в ведении книги расходов, посмотрев все существующие варианты вы пришли к выводу что вас ничего не устраивает и нужно все делать самому. Напишите программу для учета расходов. Программа должна позволять вводить информацию о расходах, сохранять ее в файл и выводить существующие данные в консоль. Ввод информации происходит через консоль. Результатом выполнения задачи будет: скриншот файла с учетом расходов, листинг кода, и вывод в консоль, с демонстрацией работоспособности программы.

```python
def log_expense(expense):
    with open('expenses.txt', 'a') as file:
        file.write(expense + '\n')

def display_expenses():
    with open('expenses.txt', 'r') as file:
        expenses = file.readlines()
        for expense in expenses:
            print(expense.strip())

while True:
    action = input("Введите 'добавить' для записи расхода или 'просмотреть' для показа расходов (введите 'выход' для завершения): ")
    if action == 'выход':
        break
    elif action == 'добавить':
        expense = input("Введите информацию о расходе: ")
        log_expense(expense)
    elif action == 'просмотреть':
        display_expenses()
```
### Результат.

![image](https://github.com/user-attachments/assets/c6d9dc42-886c-4871-84c4-4e28fa698ba2)

### Выводы
Данный код демонстрирует простую систему учета расходов, позволяющую пользователю вводить данные о расходах. 
Программа предоставляет меню для добавления новых записей и просмотра всех существующих расходов, при этом все данные сохраняются в текстовом файле. 
Это позволяет пользователю легко отслеживать свои расходы в командной строке. 
Используемые функции:
- open() — для открытия и записи в файл.
- input() — для получения информации от пользователя.
- readlines() — для чтения всех записей из файла.

## Самостоятельная работа №3
### Имеется файл input.txt с текстом на латинице. Напишите программу, которая выводит следующую статистику по тексту: количество букв латинского алфавита; число слов; число строк.
### Текст в файле:
### Beautiful is better than ugly.
### Explicit is better than implicit.
### Simple is better than complex.
### Complex is better than complicated.
### Ожидаемый результат:
### Input file contains:
### 108 letters
### 20 words
### 4 lines


```python
def text_statistics(file_path):
    with open(file_path, 'r') as file:
        lines = file.readlines()

    letter_count = 0
    word_count = 0
    line_count = len(lines)

    for line in lines:
        letter_count += sum(c.isalpha() for c in line)
        word_count += len(line.split())

    print(f'{letter_count} letters')
    print(f'{word_count} words')
    print(f'{line_count} lines')


text_statistics('input.txt')
```
### Результат.

![image](https://github.com/user-attachments/assets/b9fba787-1823-4be7-92bd-b19ed20a6ddf)

### Выводы
Данный код анализирует текст, находящийся в файле, и выводит статистику, включая количество букв латинского алфавита, число слов и количество строк. 
Программа считывает все строки файла и обрабатывает текст, чтобы подсчитать необходимые значения, что позволяет получить быструю информацию о содержимом документа. 
Используемые функции:
- open() — для открытия файла.
- readlines() — для считывания строк из файла.
- isalpha() — для проверки, является ли символ буквой.
- split() — для разделения строки на слова.
  
## Самостоятельная работа №4
### Напишите программу, которая получает на вход предложение, выводит его в терминал, заменяя все запрещенные слова звездочками * (количество звездочек равно количеству букв в слове). Запрещенные слова, разделенные символом пробела, хранятся в текстовом файле input.txt. Все слова в этом файле записаны в нижнем регистре. Программа должна заменить запрещенные слова, где бы они ни встречались, даже в середине другого слова. Замена производится независимо от регистра: если файл input.txt содержит запрещенное слово exam, то слова exam, Exam, ExaM, EXAM и exAm должны быть заменены на ****
### Запрещенные слова:
### hello email python the exam wor is
### Предложение для проверки: Hello, world! Python IS the programming language of thE future. My EMAIL is…
### PYTHON is awesome!!!!
### Ожидаемый результат:
### *** *ld! ****  * programming language of * future. My *** ...
### ****  awesome!!!!

```python
def load_prohibited_words(file_path):
    with open(file_path, 'r') as file:
        return file.read().strip().split()

def filter_sentence(sentence, prohibited_words):
    for word in prohibited_words:
        sentence = sentence.replace(word, '*' * len(word))
        sentence = sentence.replace(word.capitalize(), '*' * len(word))
    return sentence

prohibited_words = load_prohibited_words('input.txt')
sentence = "Hello, world! Python IS the programming language of thE future. My EMAIL is… PYTHON is awesome!!!!"
filtered_sentence = filter_sentence(sentence.lower(), prohibited_words)

print(filtered_sentence)
```
### Результат.

![image](https://github.com/user-attachments/assets/052041fe-518d-47f9-87b1-a3714c18932b)

### Выводы
Данный код позволяет фильтровать предложения, заменяя запрещенные слова звездочками. 
Программа считывает список запрещенных слов из текстового файла и обрабатывает введенное предложение, заменяя все вхождения запрещенных слов (независимо от регистра) на соответствующее количество звездочек. 
Это может быть полезным в ситуациях, когда необходимо удалить ненадлежащее содержание. 
Используемые функции:
- open() — для открытия и чтения файла.
- replace() — для замены слов в строке.
- lower() — для преобразования строки в нижний регистр. 
  
## Самостоятельная работа №5
### Придумайте и решите задачу
### Задача: Напишите программу, которая будет отслеживать счета за услуги (например, электричество, вода). Программа должна читать данные из файла, добавлять новые счета и выводить общий баланс.

```python
def add_bill(bill):
    with open('bills.txt', 'a') as file:
        file.write(f"{bill}\n")

def show_total_bills():
    total = 0
    with open('bills.txt', 'r') as file:
        for line in file:
            total += float(line.strip())
    print(f"Общий баланс: {total}")

while True:
    action = input("Введите 'добавить' для добавления счета или 'показать' для текущего баланса (введите 'выход' для завершения): ")
    if action == 'выход':
        break
    elif action == 'добавить':
        bill = input("Введите сумму счета: ")
        add_bill(bill)
    elif action == 'показать':
        show_total_bills()
```

### Результат.

![image](https://github.com/user-attachments/assets/4f04d255-b42c-4cc3-8ff4-0a6d03f16eb2)

### Выводы
Данный код предлагает простое решение для учёта счетов за услуги, позволяя пользователю добавлять новые счета и выводить общий баланс. 
Программа сохраняет данные в текстовом файле, что обеспечивает долговременное хранение информации. 
С помощью командного интерфейса пользователь может легко управлять информацией о своих расходах на услуги. 
Используемые функции:
- open() — для открытия и записи в файл.
- input() — для получения информации от пользователя.
- readlines() — для чтения всех счетов из файла.

## Общие выводы по теме
Работа с файлами в Python охватывает широкий спектр задач, от простого чтения и записи данных до анализа и фильтрации информации. Все выполненные задачи с использованием open(), read(), write(), input(), split() и многих других функций помогли в понимании того, как Python может быть использован для управления данными.
